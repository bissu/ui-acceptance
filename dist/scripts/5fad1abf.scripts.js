"use strict";angular.module("tshirtStoreApp",[]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/busca1",{templateUrl:"views/busca_01.html",controller:"BuscaCtrl1"}).when("/blusa1/:tshirtId",{templateUrl:"views/blusa_01.html",controller:"BlusaCtrl1"}).when("/pagamento1",{templateUrl:"views/pagamento_01.html",controller:"PagamentoCtrl1"}).when("/fim/:version",{templateUrl:"views/fim_01.html",controller:"FimCtrl"}).when("/busca2",{templateUrl:"views/busca_02.html",controller:"BuscaCtrl2"}).when("/blusa2/:tshirtId",{templateUrl:"views/blusa_02.html",controller:"BlusaCtrl2"}).when("/pagamento2",{templateUrl:"views/pagamento_02.html",controller:"PagamentoCtrl2"}).otherwise({redirectTo:"/"})}]),angular.module("tshirtStoreApp").service("globalCart",function(){var a=0,b=null,c=null,d=0;return{getQuantity:function(){return a},setQuantity:function(b){a=b},getSize:function(){return b},setSize:function(a){b=a},getProduct:function(){return c},setProduct:function(a){c=a},getTemptives:function(){return d},setTemptives:function(a){d=a}}}).controller("MainCtrl",["$scope",function(a){var b=Math.floor(2*Math.random())+1;1==b?(console.log(b),a.testeUrl="#/busca1"):(console.log(b),a.testeUrl="#/busca2")}]).controller("BuscaCtrl1",["$scope","$http",function(a,b){_kmq.push(["record","Viewed Busca1"]),b.get("tshirts/tshirts.json").success(function(b){a.tshirts=b})}]).controller("BlusaCtrl1",["$scope","$http","$routeParams","$location","globalCart",function(a,b,c,d,e){_kmq.push(["record","Viewed Blusa1"]),b.get("tshirts/"+c.tshirtId+".json").success(function(b){a.tshirt=b}),a.getCart=function(a){e.setProduct(c.tshirtId),e.setQuantity(a.quantity),e.setSize(a.size),d.path("/pagamento1")}}]).controller("PagamentoCtrl1",["$scope","$http","$location","$window","globalCart",function(a,b,c,d,e){_kmq.push(["record","Viewed Pagamento1"]),b.get("tshirts/"+e.getProduct()+".json").success(function(b){a.tshirt=b}),a.getPayment=function(){_kmq.push(["record","Clicked Pagamento1 Pagamento"]),0==e.getTemptives()?(d.alert("Quantidade de estoque insuficiente. Por favor, compre uma outra camisa."),_kmq.push(["record","Clicked Pagamento1 Pagar",{temptives:"1"}]),e.setTemptives(1)):(_kmq.push(["record","Clicked Pagamento1 Pagar",{temptives:"2"}]),c.path("/fim/1"))}}]).controller("FimCtrl",["$scope","$routeParams",function(a,b){_kmq.push(["record","Viewed Fim "+b.version]),a.version=b.version}]).controller("BuscaCtrl2",["$scope","$http",function(a,b){_kmq.push(["record","Viewed Busca2"]),b.get("tshirts/tshirts.json").success(function(b){a.tshirts=b})}]).controller("BlusaCtrl2",["$scope","$http","$routeParams","$location","globalCart",function(a,b,c,d,e){_kmq.push(["record","Viewed Blusa2"]),b.get("tshirts/"+c.tshirtId+".json").success(function(b){a.tshirt=b}),a.getCart=function(a){e.setProduct(c.tshirtId),e.setQuantity(a.quantity),e.setSize(a.size),_kmq.push(["record","Clicked Blusa2 Comprar"]),d.path("/pagamento2")}}]).controller("PagamentoCtrl2",["$scope","$http","$location","$window","globalCart",function(a,b,c,d,e){_kmq.push(["record","Viewed Pagamento2"]),b.get("tshirts/"+e.getProduct()+".json").success(function(b){a.tshirt=b}),a.getPayment=function(){_kmq.push(["record","Clicked Pagamento2 Pagamento"]),0==e.getTemptives()?(d.alert("Quantidade de estoque insuficiente. Por favor, compre uma outra camisa."),e.setTemptives(1),_kmq.push(["record","Clicked Pagamento2 Pagar",{temptives:"1"}])):(_kmq.push(["record","Clicked Pagamento2 Pagar",{temptives:"2"}]),c.path("/fim/2"))}}]);
